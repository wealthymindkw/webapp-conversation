@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================== */
/* 1. الخلفية الأساسية (Flat Dark Mode نفس ChatGPT) */
/* ========================================== */
html, body, main, .chat-container, div[class*="bg-white"], div[class*="bg-gray"] {
    background-color: #212121 !important; /* لون رمادي داكن مطفي */
    color: #ECECEC !important; /* نص أبيض مريح للعين */
    min-height: 100vh !important;
    background-image: none !important;
}

/* ========================================== */
/* 2. الهيدر (بدون حدود عشان يندمج مع الخلفية) */
/* ========================================== */
header, .header,
div[class*="border-b-gray-200"],
.flex.items-center.justify-between.h-16 {
    background-color: #212121 !important;
    border: none !important; /* مسحنا الخط الفاصل */
    box-shadow: none !important;
    z-index: 50 !important;
}

/* ========================================== */
/* 3. الشريط الجانبي (Sidebar) - أغمق بدرجة بسيطة */
/* ========================================== */
aside, .sidebar,
div[class*="border-r-gray-200"],
.flex-col.h-full.border-r {
    background-color: #171717 !important; /* لون أغمق شوي للتميز المريح */
    border: none !important;
    color: #ECECEC !important;
}

/* ========================================== */
/* 4. تنظيف النصوص وإلغاء الألوان القديمة */
/* ========================================== */
.text-gray-900, .text-gray-800, .text-gray-700, .text-gray-600 { color: #ECECEC !important; }
h1, .font-bold, h2, .font-medium { color: #ECECEC !important; }

/* لون التحديد في القائمة الجانبية */
.bg-primary-50 {
    background-color: #2F2F2F !important;
    color: #ECECEC !important;
    border-radius: 8px !important;
}

/* ========================================== */
/* 5. أيقونة الهيدر (نظيفة بدون إطار ذهبي) */
/* ========================================== */
a[href*="dify.ai"], img[alt*="dify"], svg[class*="dify"], .powered-by { display: none !important; }

.app-icon, header .app-icon, header .w-8.h-8 {
    background-image: url(https://assets.cdn.filesafe.space/rhWELETMkXWiHgXmcNv0/media/69984ecd63ae7520d51f9030.png) !important;
    background-size: cover !important;
    background-position: center !important;
    border: none !important; /* مسحنا الإطار الذهبي */
    border-radius: 50% !important;
    width: 32px !important;
    height: 32px !important;
}
header svg:first-child, .app-icon svg { display: none !important; }

/* ========================================== */
/* 6. إخفاء العناصر المزعجة */
/* ========================================== */
#send-tip, [id="send-tip"], .rc-tooltip,
.text-xs.text-gray-500, div[class*="text-xs text-gray-"] {
    display: none !important;
    opacity: 0 !important;
}
div[class*="items-center justify-between"]:not(header) .font-semibold,
div[class*="shrink-0 h-"]:has(+ div[class*="overflow"]) span {
    display: none !important;
}

/* ========================================== */
/* 7. فقاعات المحادثة (نظيفة ومسطحة Flat) */
/* ========================================== */
/* فقاعة المستخدم (رمادي فاتح) */
.mr-2.py-3.px-4.bg-blue-500, div[class*="bg-blue-500"] {
    background-color: #2F2F2F !important;
    border-radius: 18px !important;
    color: #ECECEC !important;
    box-shadow: none !important;
    border: none !important;
}

/* فقاعة البوت (شفافة لتندمج مع الخلفية) */
.ml-2.py-3.px-4.bg-gray-100, div[class*="bg-gray-100"] {
    background-color: transparent !important;
    border-radius: 18px !important;
    color: #ECECEC !important;
    border: none !important;
    box-shadow: none !important;
}

/* ========================================== */
/* 8. صندوق الكتابة (نفس ChatGPT بالضبط) */
/* ========================================== */
div[class*="absolute bottom-0"]:has(textarea),
div[class*="p-4"]:has(textarea) {
    background: transparent !important;
    border: none !important;
    padding-bottom: 20px !important;
}

div[class*="relative"]:has(> textarea),
div[class*="flex"]:has(> textarea) {
    background-color: #2F2F2F !important; /* لون الصندوق */
    border: none !important; /* مسحنا الحدود */
    border-radius: 26px !important;
    padding: 10px 48px 10px 16px !important;
    margin: 0 10px !important;
    box-shadow: none !important; /* مسحنا الظل */
}

textarea {
    background: transparent !important;
    color: #ECECEC !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
    font-size: 16px !important;
    line-height: 1.5 !important;
}
textarea::placeholder { color: #8E8E8E !important; }
textarea:focus { outline: none !important; box-shadow: none !important; }

/* زر الإرسال (دائري أبيض بداخله سهم غامق) */
div:has(> textarea) button,
div:has(> textarea) div[class*="bg-primary"] {
    position: absolute !important;
    right: 8px !important;
    bottom: 8px !important;
    background-color: #ECECEC !important; /* زر فاتح */
    border-radius: 50% !important;
    width: 32px !important;
    height: 32px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin: 0 !important;
    box-shadow: none !important;
}
div:has(> textarea) svg { color: #212121 !important; width: 16px !important; height: 16px !important; } /* سهم غامق */

/* ========================================== */
/* 9. الأزرار السفلية والجانبية */
/* ========================================== */
svg { max-width: 24px !important; max-height: 24px !important; }

button[class*="bg-primary"], .btn-primary {
    background-color: #2F2F2F !important;
    color: #ECECEC !important;
    border: none !important;
}
button[class*="text-gray-"], a[class*="text-gray-"] { color: #ECECEC !important; }
button:hover[class*="bg-gray-"], a:hover[class*="bg-gray-"] {
    background-color: #383838 !important;
}
